<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Flashcards — PROCERGS / Fundatec</title>
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --accent:#22c55e; --muted:#94a3b8; --glass: rgba(255,255,255,0.03);
      --card-w: 300px; --card-h: 200px;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      background:linear-gradient(180deg,#071025 0%, #071731 100%);
      color:#e6eef8;
    }
    .wrap{
      max-width:1100px;
      margin:28px auto;
      padding:20px;
    }
    header{
      display:flex;
      align-items:center;
      gap:16px;
      margin-bottom:18px;
    }
    h1{
      font-size:20px;
      margin:0;
    }
    p.lead{
      margin:0;
      color:var(--muted);
      font-size:13px;
    }
    .controls{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin-top:12px;
    }
    .btn{
      background:var(--glass);
      border:1px solid rgba(255,255,255,0.04);
      padding:8px 12px;
      border-radius:10px;
      color:inherit;
      cursor:pointer;
    }
    .btn:hover{
      transform:translateY(-2px);
    }
    .btn.primary{
      background:linear-gradient(90deg,#064e3b,#065f46);
      border:0;
    }
    .topbar{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
    }
    input.search{
      padding:10px 12px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.04);
      background:transparent;
      color:inherit;
      min-width:220px;
    }
    main{
      margin-top:18px;
    }
    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(var(--card-w),1fr));
      gap:18px;
    }
    /* card */
    .card-outer{
      width:var(--card-w);
      height:var(--card-h);
      perspective:1000px;
    }
    .card{
      width:100%;
      height:100%;
      position:relative;
      transform-style:preserve-3d;
      transition:transform .6s;
      cursor:pointer;
    }
    .card.flipped{
      transform:rotateY(180deg);
    }
    .face{
      position:absolute;
      inset:0;
      border-radius:12px;
      padding:14px;
      backface-visibility:hidden;
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      text-align:center;
    }
    .front{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      border:1px solid rgba(255,255,255,0.03);
    }
    .back{
      background:linear-gradient(180deg, rgba(2,6,23,0.6), rgba(0,0,0,0.6));
      transform:rotateY(180deg);
      border:1px solid rgba(255,255,255,0.03);
    }
    .q{
      font-size:16px;
      font-weight:600;
      margin-bottom:8px;
    }
    .a{
      font-size:14px;
      color:var(--muted);
    }
    .meta{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-top:10px;
      width:100%;
    }
    .small{
      font-size:12px;
      color:var(--muted);
    }
    /* add card form */
    .panel{
      margin-top:18px;
      padding:14px;
      border-radius:10px;
      background:rgba(255,255,255,0.02);
      border:1px solid rgba(255,255,255,0.03);
    }
    textarea{
      width:100%;
      min-height:70px;
      padding:8px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.04);
      background:transparent;
      color:inherit;
    }
    footer{
      margin-top:22px;
      color:var(--muted);
      font-size:13px;
    }
    @media (max-width:680px){
      :root{
        --card-w:260px;
      }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>Flashcards — PROCERGS (Fundatec)</h1>
        <p class="lead">Clique no cartão para virar. Use a busca para filtrar por palavra.</p>
      </div>
      <div style="margin-left:auto;text-align:right">
        <div class="small">Frontend puro — HTML/CSS/JS</div>
      </div>
    </header>

    <div class="topbar">
      <div style="display:flex;gap:8px;align-items:center">
        <input id="search" class="search" placeholder="Buscar... (ex: 'memória', 'kernel')" />
        <div class="controls">
          <button id="shuffleBtn" class="btn">Embaralhar</button>
          <button id="showAllBtn" class="btn">Mostrar todos</button>
          <button id="exportBtn" class="btn">Exportar JSON</button>
          <label class="btn" style="cursor:pointer">
            Importar
            <input id="importFile" type="file" accept="application/json" style="display:none" />
          </label>
        </div>
      </div>
      <div>
        <button id="toggleForm" class="btn primary">Adicionar card</button>
      </div>
    </div>

    <main>
      <section id="grid" class="grid" aria-live="polite"></section>

      <section id="formPanel" class="panel" style="display:none">
        <h3 style="margin-top:0">Novo flashcard</h3>
        <label class="small">Frente (pergunta / termo)</label>
        <textarea id="frontInput" placeholder="Ex: O que é memória virtual?"></textarea>
        <label class="small">Verso (resposta)</label>
        <textarea id="backInput" placeholder="Ex: Espaço de endereçamento..."></textarea>
        <div style="display:flex;gap:8px;margin-top:8px;justify-content:flex-end">
          <button id="addCard" class="btn primary">Adicionar</button>
          <button id="cancelAdd" class="btn">Cancelar</button>
        </div>
      </section>
    </main>

    <footer>Arquivo local — os cards são mantidos no LocalStorage do navegador. Você pode exportar/importar JSON para sincronizar entre dispositivos.</footer>
  </div>

  <script>
    // ----- Dados -----
    const SAMPLE = [
      {front: 'O que o Model faz em um cadastro de usuários?', back: 'Valida dados, insere no banco e retorna o resultado da operação.'},
      {front: 'A View contém lógica de negócios?', back: 'Não, ela apenas exibe os dados ao usuário.'},
      {front: 'Qual é o papel do Controller em relação ao Model?', back: 'Solicitar ações ao Model com base nas requisições da View.'},
      {front: 'A View pode acessar diretamente o banco de dados?', back: 'Não, o acesso ao Model é feito pelo Controller.'},
      {front: 'O que o Model fornece ao COntroller?', back: 'Dados e resultados de suas operações.'},
      {front: 'A camada Model interage com qual recurso externo principal?', back:' Com o banco de dados ou outras fontes de dados.'},
      {front: 'Qual a principal resposibilidade da camada Model no padrão MVC?', back: 'Executar a lógica de negócios e manipular os dados da aplicação.'},
      {front: 'Qual é uma vantabem do MVC ao adicionar novas funcionalidades?', back: 'Permite modificar a interface (Visão) sem alterar a lógica de negócio (Modelo).'},
      {front: 'O MVC permite a reutilização de código? Por quê?', back: 'Sim, pois os componentes bem definidos podem ser reaproveitados em outras partes ou projetos.'},
      {front: 'Por que o MVC melhora a tertabilidade de aplicação?', back:'Porque cada componente (Modelo, Visão, Controlador) poode ser testado de forma isolada;'},
      {front: 'Como o MVC contribui para a manutenção do código?', back: 'Separando responsabilidades, facilita modificar partes específicas sem afetar o restante.'},
      {front: 'Qual o papel do Controlador no padrão MVC?', back: 'Intermediar a comunicação entre Modelo e Visão, controlando o fluxo da aplicação.'},
      {front: 'O que faz a Visão no padrão MVC?', back: 'Exibe a interface com o usuário, ou seja, a parte visual da aplicação.'},
      {front: 'Qual a principal função do Modelo no padrão MVC?', back: 'Gerenciar os dados e a lógica de negócio da aplicação.'},
      {front: 'O que significa a sigla MVC?', back: 'Model-View-Controller (MOdelo-Visão-Controlador)'},
      {front: 'Encapsulamento facilita a reutilização do código? Por quê?', back: ' Sim, pois os objetos encapsulados podem ser reutilizados sem conhecer sua lógica interna.'},
      {front: 'Dê um exemplo real que ilustra ecapsulamento', back: 'Um carro: você dirige usando volante e pedais (interface pública) sem saber como o motor funciona (detalhes internos encapsulados).'},
      {front: 'Como o encapsulamento contribui para a abstração?', back: 'Uso de modificadores de acesso (private, protected, public) e métodos get e set.'},
      {front: 'Qual é a principal vantagem do encapsulamento?', back: 'Proteger os dados internos do objeto contra acessos ou modificações indevidas.'},
      {front: 'O que é encapsulamento no programação orientada a objetos?', back: ' É o princípio que oculta os detalhes internos de um objeto, expondo apenas uma interface pública para interação.'},
      {front: 'Por que o polimorfismo é importante?', back: ' Porque permite que métodos funcionem com múltiplos tipos de objetos, promovendo código reutilizável e flexível.'},
      {front: 'Como se implementa o polimorfismo dinâmico em C#?', back: 'Com modificadores virtual na superclasse e override na subclasse.'},
      {front: 'Quando ocorre o polimorfismo dinâmico?', back: 'Em tempo de execução, quando uma subclasse sobrescreve um método da superclasse.'},
      {front: 'Quando ocorre o polimorfismo estático?', back: 'Em tempo de compilação, quando há métodos com o mesmo nome, mas diferentes parâmetros.'},
      {front: 'Quais são os dois tipos principais de polimorfismo?', back: 'Polimorfismo estático (sobrecarga) e polimorfismo dinâmico (sobrescrita).'},
      {front: 'O que é polimorfismo na POO?', back: 'É a capacidade de objetos responderem de formas diferentes ao mesmo método, conforme o tipo do objeto.'},
      {front: 'Quais são as desvantagens dos ciclos ágeis?', back: 'Necessidade de equipe colaborativa e possível incerteza no escopo final.'},
      {front: 'Quais são as vantages dos ciclos ágeis?', back: 'Flexibilidade, entrega incremental e maior satisfação do cliente.'},
      {front: 'Quais técnicas são usadas em ciclos ágeis para especificação de requisitos?', back: 'Histórias de usuário, protótipos, testes frequentes e comunicação constante com o cliente.'},
      {front: 'Qual o foco da especificação de requisitos em ciclos ágeis?', back: 'Adaptação contínua aos requisitos durante o desenvolvimento'},
      {front: 'Quais são as desvantagens dos ciclos tradicionais?', back: 'Dificuldade em lidar com mudanças e risco de software desatualizado.'},
      {front: 'Quais são as vantagens dos ciclos tradicionais?', back: 'Clareza, previsibilidade e adequação para requisitos estáveis.'},
      {front: 'Quais técnicas são usadas na especificação de requisitos em ciclos tradicionais?', back: 'Documentação extensa, como casos de uso, diagramas de fluxo e modelos de dados.'},
      {front: 'Qual o foco da especificação de requisitos em ciclos tradicionais?', back: 'Definição completa e rígida dos requisitos no início do projeto.'},
      {front: 'Qual é a analogia comum usada para explicar o barramento?', back: 'Um sistema de estradas dentro do computador, onde os dados são veículos trafegando entre destinos.'},
      {front: 'Quais são alguns exemplos de barramentos em um computador?', back: 'Barramento do sistema (CPU-memória, PCI, USB.'},
      {front: 'Por que o barramento é importante para o funcionamento do computador?', back: 'Porque permite que os diversos componentes trabalhem juntos de forma eficiente.'},
      {front: 'Qual a função do barramento de controle?', back: 'Transmitir sinais que coordenam as operações entre os componentes, como sinais de clock e interrupções.'},
      {front: 'Qual a função do barramento de endereços?', back: 'Especificar o local de memória onde os dados serão acessados ou armazenados.'},
      {front: 'Qual a função do barramento de dados?', back: 'Transferir os dados propriamente ditos entre os componentes.'},
      {front: 'Quais os três tipos principais de barramento?', back: 'Barramento de dados, barramento de endereços e barramento de controle.'},
      {front: 'Quais são as principais funções do barramento?', back: 'Transportar dados, endereços e sinais de controle entre os componentes do computador.'},
      {front: 'O que é um barramento em arquitetura de computadores?', back: 'Um sistema de comunicação que permite a transferência de dados entre componentes como processador, memória e periféricos.'},
      {front: 'Ioc pode ser implementado de outras formas além de DI?', back: 'Sim, por exemplo, com Programação Orientada a Aspectos (AOP).'},
      {front: 'Qual é a relação entre IoC e DI?', back: 'DI é uma forma prática e popular de aplicar o princípio de IoC.'},
      {front: 'Quais são os tipos comuns de Injeção de Dependência?', back: 'Injeção de Construtor, Injeção de Setter e Injeção de Interface.'},
      {front: 'O que é Injeção de Dependência (DI)?', back: 'Técnica específica para implementar IoC, onde as dependências são passadas a um objeto em vez dele criá-las internamente.'}
      
    ];


    // ----- App state -----
    let cards = SAMPLE.slice();
    // let cards = loadFromStorage() || SAMPLE.slice();     Essa linha pode ser usada para carregar do LocalStorage
    const grid = document.getElementById('grid');
    const searchInput = document.getElementById('search');

    // ----- render -----
    function render(filter) {
      grid.innerHTML = '';
      const list = filter ? cards.filter(c => (c.front+c.back).toLowerCase().includes(filter.toLowerCase())) : cards;
      if(list.length === 0){
        grid.innerHTML = '<div style="color:var(--muted);padding:20px">Nenhum card corresponde à busca.</div>';
        return;
      }
      list.forEach((c, idx)=>{
        const outer = document.createElement('div'); outer.className='card-outer';
        const card = document.createElement('div'); card.className='card'; card.tabIndex=0;

        const front = document.createElement('div'); front.className='face front';
        front.innerHTML = `<div class="q">${escapeHtml(c.front)}</div><div class="small">#${idx+1}</div>`;

        const back = document.createElement('div'); back.className='face back';
        back.innerHTML = `<div class="a">${escapeHtml(c.back)}</div><div class="meta"><div class="small">Verso</div><button class="btn" data-idx="${idx}">Excluir</button></div>`;

        card.appendChild(front); card.appendChild(back); outer.appendChild(card); grid.appendChild(outer);

        // click to flip
        card.addEventListener('click', (e)=>{ card.classList.toggle('flipped'); });
        // keyboard
        card.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); card.classList.toggle('flipped'); }});

        // delete button
        back.querySelector('button').addEventListener('click', (ev)=>{
          ev.stopPropagation(); // don't flip
          const realIndex = findRealIndex(c);
          if(confirm('Excluir este flashcard?')){
            cards.splice(realIndex,1);
            saveToStorage();
            render(searchInput.value);
          }
        });
      });
    }

    function findRealIndex(cardObj){
      return cards.findIndex(c=>c.front===cardObj.front && c.back===cardObj.back);
    }

    // ----- helpers -----
    function escapeHtml(str){ return String(str).replace(/[&<>\"']/g, s=>({ '&':'&amp;','<':'&lt;','>':'&gt;','\"':'&quot;',"'":'&#39;' })[s]); }

    // salvar no LocalStorage
    function saveToStorage(){ localStorage.setItem('procergs_flashcards_v1', JSON.stringify(cards)); }
    function loadFromStorage(){ try{ const raw = localStorage.getItem('procergs_flashcards_v1'); return raw ? JSON.parse(raw) : null; }catch(e){return null;} }

    // ----- UI actions -----
    document.getElementById('shuffleBtn').addEventListener('click', ()=>{shuffle(cards); saveToStorage(); render(searchInput.value);});
    document.getElementById('showAllBtn').addEventListener('click', ()=>{ searchInput.value=''; render(); });

    // add form
    const toggleForm = document.getElementById('toggleForm'); const formPanel = document.getElementById('formPanel');
    toggleForm.addEventListener('click', ()=>{ formPanel.style.display = formPanel.style.display === 'none' ? 'block' : 'none'; });
    document.getElementById('cancelAdd').addEventListener('click', ()=>{ formPanel.style.display='none'; });
    document.getElementById('addCard').addEventListener('click', ()=>{
      const f = document.getElementById('frontInput').value.trim(); const b = document.getElementById('backInput').value.trim();
      if(!f || !b){ alert('Preencha frente e verso'); return; }
      cards.unshift({front:f, back:b}); saveToStorage(); document.getElementById('frontInput').value=''; document.getElementById('backInput').value=''; render();
    });

    // search
    searchInput.addEventListener('input', (e)=>{ render(e.target.value); });

    // export
    document.getElementById('exportBtn').addEventListener('click', ()=>{
      const data = JSON.stringify(cards, null, 2);
      const blob = new Blob([data], {type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href=url; a.download='flashcards_procergs.json'; a.click(); URL.revokeObjectURL(url);
    });

    // import
    document.getElementById('importFile').addEventListener('change', async (e)=>{
      const f = e.target.files[0]; if(!f) return; try{
        const txt = await f.text(); const parsed = JSON.parse(txt);
        if(Array.isArray(parsed)){
          if(confirm('Substituir os cards atuais? OK = substituir, Cancel = adicionar ao topo')){
            cards = parsed; saveToStorage(); render();
          } else {
            cards = parsed.concat(cards); saveToStorage(); render();
          }
        }else{ alert('Formato inválido: JSON deve ser uma lista de objetos {front,back}'); }
      }catch(err){ alert('Erro ao importar: '+err.message); }
      e.target.value='';
    });

    // utilities
    function shuffle(a){ for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; } }

    // initial render
    render();

    // expose for debugging
    window.__flashcards = {cards, saveToStorage, render};
  </script>
</body>
</html>